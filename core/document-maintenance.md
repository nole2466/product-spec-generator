# æ–‡ä»¶ç¶­è­·è¦ç¯„

> å®šç¾©å„æ–‡ä»¶çš„æ›´æ–°æ™‚æ©Ÿã€è²¬ä»»äººã€MR è¦ç¯„

---

## 1. æ–‡ä»¶æ›´æ–°æ™‚æ©Ÿ

### 1.1 è¦æ ¼æ–‡ä»¶ (specs/)

| æ–‡ä»¶ | æ›´æ–°æ™‚æ©Ÿ | è²¬ä»»äºº | MR é¡å‹ |
|-----|---------|-------|--------|
| `_map.md` | åŠŸèƒ½ç‹€æ…‹è®Šæ›´ | PD | `docs: update feature status` |
| `prd.md` | éœ€æ±‚è®Šæ›´ | PM | `docs: update prd` |
| `spec.md` | è¦æ ¼è®Šæ›´ | PD | `docs: update spec` |
| `contract.md` | API è®Šæ›´ | Backend | `docs: update contract` |
| `acceptance.md` | é©—æ”¶æ¨™æº–è®Šæ›´ | QA | `docs: update acceptance` |

**æ›´æ–°åŸå‰‡**ï¼š
- è¦æ ¼è®Šæ›´å¿…é ˆæ›´æ–°ã€Œè®Šæ›´ç´€éŒ„ã€å€å¡Š
- é‡å¤§è®Šæ›´éœ€è¦é‡æ–°èµ°å¯©æ ¸æµç¨‹
- API è®Šæ›´éœ€åŒæ­¥é€šçŸ¥ Frontend

### 1.2 Backlog æ–‡ä»¶ (backlog/)

| æ–‡ä»¶ | æ›´æ–°æ™‚æ©Ÿ | è²¬ä»»äºº | MR é¡å‹ |
|-----|---------|-------|--------|
| `_index.md` | è¿­ä»£é–‹å§‹/çµæŸ | PM/PD | `docs: update backlog` |
| `iteration-{N}.md` | æ¯æ—¥/æ¯é€±åŒæ­¥ | PM/PD | `docs: update iteration` |
| `features/{name}.md` | ä»»å‹™ç‹€æ…‹è®Šæ›´ | ä»»å‹™è² è²¬äºº | `docs: update feature` |
| `tech-debt/{name}.md` | ç‹€æ…‹è®Šæ›´ | è² è²¬äºº | `docs: update tech-debt` |

**æ›´æ–°åŸå‰‡**ï¼š
- è¿­ä»£çµæŸæ™‚æ›´æ–° `_index.md` çš„ã€Œä¸Šä¸€è¿­ä»£ã€é€£çµ
- `iteration-{N}.md` åœ¨è¿­ä»£çµæŸå¾Œå¡«å¯«å›é¡§å€å¡Š
- Feature å®Œæˆå¾Œæ›´æ–°ç‹€æ…‹ç‚º Done

### 1.3 å°ˆæ¡ˆå±¤ç´šæ–‡ä»¶

| æ–‡ä»¶ | æ›´æ–°æ™‚æ©Ÿ | è²¬ä»»äºº | MR é¡å‹ |
|-----|---------|-------|--------|
| `CHANGELOG.md` | ç‰ˆæœ¬ç™¼å¸ƒ | PM/Tech Lead | `docs: update changelog` |
| `README.md` | é‡å¤§åŠŸèƒ½ä¸Šç·š | PM | `docs: update readme` |
| `_map.md` | åŠŸèƒ½ä¸Šç·š/ä¸‹ç·š | PD | `docs: update feature map` |

---

## 2. ç‹€æ…‹è®Šæ›´æµç¨‹

### 2.1 åŠŸèƒ½ç‹€æ…‹ (`_map.md`)

```
ğŸ’¡ è¦åŠƒä¸­  â†’  ğŸ“‹ è¦æ ¼ä¸­  â†’  ğŸš§ é–‹ç™¼ä¸­  â†’  âœ… å·²ä¸Šç·š
                                              â†“
                                          âŒ å·²ä¸‹ç·š
```

| ç‹€æ…‹è®Šæ›´ | è§¸ç™¼æ¢ä»¶ | æ›´æ–°è€… |
|---------|---------|-------|
| ğŸ’¡â†’ğŸ“‹ | PRD é–‹å§‹æ’°å¯« | PM |
| ğŸ“‹â†’ğŸš§ | è¦æ ¼ Approvedï¼Œæ’å…¥è¿­ä»£ | PD |
| ğŸš§â†’âœ… | åŠŸèƒ½ä¸Šç·š | PD |
| âœ…â†’âŒ | åŠŸèƒ½ä¸‹æ¶ | PM |

### 2.2 ä»»å‹™ç‹€æ…‹ (`features/{name}.md`)

```
ğŸ“‹ å¾…é–‹å§‹  â†’  ğŸš§ é€²è¡Œä¸­  â†’  ğŸ” Review  â†’  âœ… å®Œæˆ
```

| ç‹€æ…‹è®Šæ›´ | è§¸ç™¼æ¢ä»¶ | æ›´æ–°è€… |
|---------|---------|-------|
| ğŸ“‹â†’ğŸš§ | é–‹å§‹é–‹ç™¼ | é–‹ç™¼è€… |
| ğŸš§â†’ğŸ” | æäº¤ MR | é–‹ç™¼è€… |
| ğŸ”â†’âœ… | MR åˆä½µ | é–‹ç™¼è€… |

---

## 3. MR è¦ç¯„

### 3.1 æ–‡ä»¶æ›´æ–° MR æ¨™é¡Œæ ¼å¼

```
docs(<scope>): <description>
```

**Scope å°ç…§**ï¼š

| Scope | èªªæ˜ | ç¯„ä¾‹ |
|-------|------|------|
| `spec` | è¦æ ¼æ–‡ä»¶ | `docs(spec): update search feature spec` |
| `backlog` | Backlog ç›¸é—œ | `docs(backlog): update iteration-3 progress` |
| `map` | åŠŸèƒ½åœ°åœ– | `docs(map): mark search as live` |
| `changelog` | è®Šæ›´æ—¥èªŒ | `docs(changelog): add v1.1.0 release notes` |

### 3.2 MR å…§å®¹æ¨¡æ¿

```markdown
## è®Šæ›´é¡å‹

- [ ] è¦æ ¼è®Šæ›´
- [ ] ç‹€æ…‹æ›´æ–°
- [ ] è¿­ä»£æ›´æ–°
- [ ] å…¶ä»–ï¼š___

## è®Šæ›´å…§å®¹

{èªªæ˜è®Šæ›´äº†ä»€éº¼}

## ç›¸é—œé€£çµ

- Issue: #xxx
- Feature: {feature-name}

## Checklist

- [ ] å·²æ›´æ–°æ–‡ä»¶çš„ã€Œè®Šæ›´ç´€éŒ„ã€å€å¡Š
- [ ] å·²é€šçŸ¥ç›¸é—œäººå“¡ï¼ˆå¦‚é©ç”¨ï¼‰
```

---

## 4. æ›´æ–°è²¬ä»»çŸ©é™£

### 4.1 èª°æ›´æ–°ä»€éº¼

| è§’è‰² | è² è²¬æ›´æ–°çš„æ–‡ä»¶ |
|-----|---------------|
| PM | `prd.md`, `_index.md`, `CHANGELOG.md` |
| PD | `spec.md`, `_map.md`, `iteration-{N}.md`, `features/*.md` |
| Backend | `contract.md`, è‡ªå·±çš„ä»»å‹™ç‹€æ…‹ |
| Web/App | è‡ªå·±çš„ä»»å‹™ç‹€æ…‹ |
| QA | `acceptance.md`, æ¸¬è©¦çµæœ |

### 4.2 æ›´æ–°é »ç‡å»ºè­°

| é »ç‡ | æ–‡ä»¶ |
|-----|------|
| å³æ™‚ | ä»»å‹™ç‹€æ…‹è®Šæ›´ |
| æ¯æ—¥ | `iteration-{N}.md` é€²åº¦ï¼ˆå¦‚æœ‰ Daily Standupï¼‰ |
| æ¯é€± | `_index.md` é€²åº¦ç¸½è¦½ |
| è¿­ä»£çµæŸ | `iteration-{N}.md` å›é¡§ã€`_index.md` è¿­ä»£é€£çµ |
| ç‰ˆæœ¬ç™¼å¸ƒ | `CHANGELOG.md`, `_map.md` |

---

## 5. è‡ªå‹•åŒ–å»ºè­°

### 5.1 CI æª¢æŸ¥ï¼ˆå¯é¸ï¼‰

```yaml
# .github/workflows/docs-check.yml
name: Docs Check

on:
  pull_request:
    paths:
      - 'specs/**'
      - 'backlog/**'

jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - name: Check changelog entry
        if: contains(github.event.pull_request.labels.*.name, 'spec-change')
        run: |
          # æª¢æŸ¥æ˜¯å¦æœ‰æ›´æ–°è®Šæ›´ç´€éŒ„
          echo "Checking for changelog updates..."
```

### 5.2 MR æ¨¡æ¿

å»ºè­°åœ¨å°ˆæ¡ˆä¸­å»ºç«‹ `.github/PULL_REQUEST_TEMPLATE/docs.md`ï¼š

```markdown
## æ–‡ä»¶æ›´æ–°

### è®Šæ›´é¡å‹
- [ ] è¦æ ¼è®Šæ›´
- [ ] ç‹€æ…‹æ›´æ–°
- [ ] è¿­ä»£æ›´æ–°

### è®Šæ›´æ‘˜è¦
{ç°¡è¿°è®Šæ›´å…§å®¹}

### Checklist
- [ ] å·²æ›´æ–°ã€Œè®Šæ›´ç´€éŒ„ã€å€å¡Š
- [ ] å·²ç¢ºèªæ ¼å¼æ­£ç¢º
```

---

## 6. å¸¸è¦‹æƒ…å¢ƒ

### 6.1 åŠŸèƒ½ä¸Šç·š

```
1. PD æ›´æ–° specs/_map.md
   - åŠŸèƒ½ç‹€æ…‹æ”¹ç‚º âœ… å·²ä¸Šç·š

2. PD æ›´æ–° backlog/features/{name}.md
   - ç‹€æ…‹æ”¹ç‚º Done

3. PM æ›´æ–° CHANGELOG.md
   - æ–°å¢ç‰ˆæœ¬ç™¼å¸ƒå…§å®¹
```

### 6.2 è¿­ä»£çµæŸ

```
1. PM/PD æ›´æ–° backlog/iterations/iteration-{N}.md
   - å¡«å¯«å®Œæˆæƒ…æ³
   - å¡«å¯«è¿­ä»£å›é¡§

2. PM/PD æ›´æ–° backlog/_index.md
   - æ›´æ–°ã€Œä¸Šä¸€è¿­ä»£ã€é€£çµ
   - æ›´æ–°ç•¶å‰è¿­ä»£è³‡è¨Š
```

### 6.3 è¦æ ¼è®Šæ›´

```
1. è² è²¬è§’è‰²æ›´æ–°å°æ‡‰æ–‡ä»¶
   - ä¿®æ”¹å…§å®¹
   - æ›´æ–°ã€Œè®Šæ›´ç´€éŒ„ã€å€å¡Š

2. é€šçŸ¥ä¸‹æ¸¸è§’è‰²
   - spec.md è®Šæ›´ â†’ é€šçŸ¥ Backend, Frontend
   - contract.md è®Šæ›´ â†’ é€šçŸ¥ Frontend, QA
```

---

## è®Šæ›´ç´€éŒ„

| æ—¥æœŸ | ç‰ˆæœ¬ | è®Šæ›´å…§å®¹ | ä½œè€… |
|-----|------|---------|------|
| {æ—¥æœŸ} | 1.0 | åˆç‰ˆ | @{username} |
