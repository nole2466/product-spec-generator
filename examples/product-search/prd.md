# PRD: 商品搜尋

> 功能需求文件（Product Requirements Document）

---

## Metadata

| 項目 | 內容 |
|-----|------|
| 功能 ID | FE-001 |
| 功能名稱 | 商品搜尋 |
| 負責 PM | @pm-david |
| 建立日期 | 2024-01-15 |
| 狀態 | Approved |

---

## 1. 背景與目標

### 1.1 背景

目前用戶只能透過分類瀏覽商品，當商品數量超過 10,000 件後，用戶反映難以找到想要的商品。根據數據分析，有 35% 的用戶在瀏覽 3 頁後就放棄離開。

### 1.2 目標

提供快速、準確的商品搜尋功能，讓用戶能在 3 秒內找到想要的商品。

| 目標類型 | 目標 | 衡量指標 |
|---------|------|---------|
| 用戶目標 | 快速找到想要的商品 | 搜尋到點擊 < 30 秒 |
| 商業目標 | 提升轉換率 | 搜尋用戶轉換率 > 5% |

### 1.3 成功指標（KPI）

| 指標 | 目前 | 目標 | 衡量方式 |
|-----|------|------|---------|
| 搜尋使用率 | 0% | > 40% | 搜尋用戶 / 總用戶 |
| 搜尋成功率 | - | > 80% | 搜尋後有點擊商品 |
| 搜尋轉換率 | - | > 5% | 搜尋後完成購買 |

---

## 2. 用戶與場景

### 2.1 目標用戶

| 用戶類型 | 描述 | 優先級 |
|---------|------|:------:|
| 目標明確型 | 知道要買什麼，想快速找到 | P0 |
| 探索型 | 有大概方向，想看看有什麼 | P1 |

### 2.2 用戶場景（User Stories）

#### 場景 1: 精確搜尋

```
作為 目標明確型用戶
我想要 輸入商品名稱搜尋
以便 快速找到特定商品
```

**驗收條件**：
- [x] 輸入「iPhone 15」能找到相關商品
- [x] 搜尋結果在 2 秒內顯示

#### 場景 2: 模糊搜尋

```
作為 探索型用戶
我想要 輸入關鍵字搜尋
以便 找到相關的商品
```

**驗收條件**：
- [x] 輸入「手機殼」能找到各品牌的手機殼
- [x] 結果按相關度排序

#### 場景 3: 篩選搜尋結果

```
作為 用戶
我想要 篩選搜尋結果
以便 縮小範圍找到更符合的商品
```

**驗收條件**：
- [x] 可以按價格範圍篩選
- [x] 可以按分類篩選
- [x] 可以按評價篩選

---

## 3. 功能需求

### 3.1 功能清單

| # | 功能 | 描述 | 優先級 |
|:-:|-----|------|:------:|
| 1 | 關鍵字搜尋 | 輸入關鍵字搜尋商品 | P0 |
| 2 | 搜尋建議 | 輸入時顯示搜尋建議 | P0 |
| 3 | 搜尋結果 | 顯示搜尋結果列表 | P0 |
| 4 | 結果篩選 | 篩選搜尋結果 | P1 |
| 5 | 結果排序 | 排序搜尋結果 | P1 |
| 6 | 搜尋歷史 | 顯示最近搜尋 | P2 |

### 3.2 功能說明

#### 功能 1: 關鍵字搜尋

**描述**：
用戶在搜尋框輸入關鍵字，系統回傳符合的商品列表。

**輸入**：
- 關鍵字（1-50 字元）

**輸出**：
- 商品列表（最多 100 筆）

**業務規則**：
- 搜尋範圍包含：商品名稱、描述、品牌、分類
- 只搜尋上架中的商品
- 支援繁簡體中文轉換

#### 功能 2: 搜尋建議

**描述**：
用戶輸入時，即時顯示搜尋建議。

**輸入**：
- 輸入文字（至少 1 字元）

**輸出**：
- 建議列表（最多 10 筆）

**業務規則**：
- 輸入後 300ms 觸發
- 建議來源：熱門搜尋、商品名稱、分類名稱

---

## 4. 非功能需求

### 4.1 效能需求

| 項目 | 需求 |
|-----|------|
| 搜尋回應時間 | < 500ms（p95） |
| 搜尋建議回應 | < 200ms（p95） |

### 4.2 其他需求

| 類型 | 需求 |
|-----|------|
| 相容性 | iOS 15+、Android API 26+、主流瀏覽器 |
| 可用性 | 支援鍵盤操作、螢幕閱讀器 |

---

## 5. 範圍定義

### 5.1 In Scope（本次包含）

- 關鍵字搜尋
- 搜尋建議
- 搜尋結果列表
- 基本篩選（價格、分類）
- 基本排序（相關度、價格、銷量）

### 5.2 Out of Scope（本次不包含）

| 項目 | 原因 | 未來計畫 |
|-----|------|---------|
| 語音搜尋 | 技術複雜度高 | Phase 2 |
| 圖片搜尋 | 需要 AI 模型 | Phase 3 |
| 進階篩選 | 先驗證基本功能 | Phase 2 |

---

## 6. 依賴與風險

### 6.1 依賴項目

| 依賴 | 類型 | 負責人 | 狀態 |
|-----|------|-------|:----:|
| 搜尋引擎部署 | 技術 | @backend-tom | 🟢 |
| 商品資料索引 | 資料 | @data-amy | 🟢 |

### 6.2 風險評估

| 風險 | 影響 | 機率 | 緩解方案 |
|-----|------|:----:|---------|
| 搜尋效能不達標 | 高 | 中 | 先用小資料集驗證 |
| 搜尋結果不準確 | 中 | 中 | 持續調整演算法 |

---

## 7. 時程與里程碑

| 里程碑 | 日期 | 說明 |
|-------|------|------|
| PRD 定稿 | 2024-01-15 | ✅ |
| Spec 完成 | 2024-01-22 | ✅ |
| 開發完成 | 2024-02-15 | |
| QA 完成 | 2024-02-22 | |
| 上線 | 2024-03-01 | |

---

## 8. 附錄

### 8.1 相關文件

- [競品分析：蝦皮、momo 搜尋功能](https://example.com/analysis)
- [用戶訪談紀錄](https://example.com/interviews)

### 8.2 術語說明

| 術語 | 說明 |
|-----|------|
| 搜尋建議 | Autocomplete，輸入時自動顯示的建議 |
| p95 | 95% 的請求在此時間內完成 |

---

## 變更紀錄

| 日期 | 版本 | 變更內容 | 作者 |
|-----|------|---------|------|
| 2024-01-15 | 1.0 | 初版 | @pm-david |
| 2024-01-18 | 1.1 | 新增搜尋歷史功能（P2） | @pm-david |
